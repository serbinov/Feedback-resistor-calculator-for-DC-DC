<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DC/DC Feedback Resistor Calculator</title>

    <!-- SEO Meta Tags -->
    <meta name="description"
        content="Online DC/DC converter feedback resistor calculator. Calculate optimal R1 and R2 values for voltage divider networks in switching power supplies, buck converters, boost converters, and step-down regulators. Also offers Custom Electronics Design & Development services (PCB layout, embedded firmware, DFM, SolidWorks mechanical design).">
    <meta name="keywords"
        content="feedback resistor calculator, DC/DC converter calculator, voltage divider calculator, resistor divider calculator, switching regulator calculator, buck converter resistor, boost converter resistor, step-down converter calculator, power supply feedback network, voltage reference calculator, R1 R2 calculator, feedback network calculator, switching power supply calculator, voltage regulator calculator, DC converter resistor values, power electronics calculator, resistor ratio calculator, voltage divider network, feedback loop calculator, switching converter design, SMPS resistor calculator, PWM controller feedback, LDO feedback network, adjustable regulator calculator, output voltage calculator, resistor selection tool, E24 resistor series, E96 resistor series, precision resistor calculator, standard resistor values, feedback circuit design, voltage setting resistors, dc-dc feedback design, switching mode power supply, power converter design, voltage regulation circuit, resistor tolerance calculator, feedback component calculator, electronic circuit calculator, power supply design tool, voltage converter calculator, switching topology calculator, buck boost converter, flyback converter feedback, forward converter resistor, half bridge converter, full bridge feedback network, resonant converter calculator, isolated converter feedback, non-isolated converter design, point of load regulator, module design calculator, embedded power supply, battery charger feedback, LED driver feedback, motor drive feedback, telecom power supply, server power calculator, automotive converter design, industrial power supply, medical device power, aerospace power design, custom electronics design, electronics R&D, full-cycle R&D, feasibility studies, prototyping, mass production, circuit design simulation, HDI PCB design, advanced PCB layout, signal integrity, EMC EMI, design for manufacturing, DFM services, Gerber files, pick-and-place data, cost-optimized BOMs, embedded firmware STM32, ESP32, bare-metal, RTOS, mechanical engineering SolidWorks, ECAD MCAD integration, thermal management, custom enclosure design">
    <meta name="author" content="Oleg Serbinov">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">

    <!-- Alternative Descriptions for Different Contexts -->
    <meta name="description" lang="en-US"
        content="Free online feedback resistor calculator for DC/DC switching converters. Automatically selects R1 and R2 values from standard E24/E96 series for precise output voltage setting. Also provides Custom Electronics Design & Development services including PCB HDI layout, embedded firmware and mechanical design.">
    <meta name="twitter:description"
        content="Calculate DC/DC converter feedback resistors R1 & R2. Supports buck, boost, and buck-boost topologies. Also offering custom electronics design, advanced PCB layout, embedded firmware and SolidWorks mechanical design.">

    <!-- Geographic and Topical Variations -->
    <meta name="geo.region" content="Worldwide">
    <meta name="geo.placename" content="Electronics Engineering">
    <meta name="subject" content="Electronics, Power Supply Design, Circuit Calculation">
    <meta name="classification" content="Engineering Tools, Electronic Calculators, Power Electronics">
    <meta name="category" content="Engineering Software, Circuit Design, Power Supply Tools">

    <!-- Open Graph Tags -->
    <meta property="og:title"
        content="DC/DC Feedback Resistor Calculator | R1 R2 Calculator for Switching Power Supplies">
    <meta property="og:description"
        content="Calculate optimal feedback resistor values for DC/DC converters. Free online tool for voltage divider networks in switching power supplies. Supports E24/E96 standard resistor series.">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Feedback Resistor Calculator">
    <meta property="og:image" content="https://serbinov.github.io/Feedback-resistor-calculator-for-DC-DC/image.png">
    <meta property="og:image:alt" content="DC/DC Converter Feedback Resistor Circuit Diagram">
    <meta property="og:locale" content="en_US">

    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="DC/DC Feedback Resistor Calculator - Free Online Tool">
    <meta name="twitter:description"
        content="Calculate DC/DC converter feedback resistors R1 & R2. Supports buck, boost, and buck-boost topologies with standard resistor selection from E24/E96 series.">
    <meta name="twitter:image" content="https://serbinov.github.io/Feedback-resistor-calculator-for-DC-DC/image.png">
    <meta name="twitter:image:alt" content="Feedback resistor calculator interface">
    <meta name="twitter:creator" content="@OlegSerbinov">

    <!-- Additional SEO Meta Tags -->
    <meta name="application-name" content="DC/DC Feedback Resistor Calculator">
    <meta name="theme-color" content="#3498db">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Resistor Calculator">
    <meta name="format-detection" content="telephone=no">

    <!-- Canonical and Alternate Languages -->
    <link rel="canonical" href="https://serbinov.github.io/Feedback-resistor-calculator-for-DC-DC/">
    <link rel="alternate" hreflang="en" href="https://serbinov.github.io/Feedback-resistor-calculator-for-DC-DC/">
    <link rel="alternate" hreflang="x-default"
        href="https://serbinov.github.io/Feedback-resistor-calculator-for-DC-DC/">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <link rel="icon" href="favicon.svg" type="image/svg+xml">

    <!-- Google Analytics 4 -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3PHDMJ17WG"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-3PHDMJ17WG');
    </script>

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": ["WebApplication", "SoftwareApplication", "Calculator"],
        "name": "DC/DC Feedback Resistor Calculator",
        "alternateName": ["Switching Regulator Feedback Calculator", "R1 R2 Voltage Divider Calculator", "Power Supply Feedback Network Calculator"],
        "description": "Professional online calculator for determining optimal feedback resistor values (R1 and R2) in DC/DC converter circuits. Supports automatic resistor selection from standard E24 and E96 series, manual input, and single resistor calculation modes.",
        "url": "https://serbinov.github.io/Feedback-resistor-calculator-for-DC-DC/",
        "image": "https://serbinov.github.io/Feedback-resistor-calculator-for-DC-DC/image.png",
        "screenshot": "https://serbinov.github.io/Feedback-resistor-calculator-for-DC-DC/image.png",
        "author": {
            "@type": "Person",
            "name": "Oleg Serbinov",
            "url": "https://serbinov.github.io/",
            "sameAs": ["https://github.com/serbinov"]
        },
        "creator": {
            "@type": "Person",
            "name": "Oleg Serbinov"
        },
        "applicationCategory": ["Engineering Calculator", "Electronics Tool", "Circuit Design Software"],
        "applicationSubCategory": "Power Electronics Calculator",
        "operatingSystem": ["Web Browser", "Cross-platform"],
        "browserRequirements": "HTML5, JavaScript enabled",
        "softwareVersion": "1.0",
        "datePublished": "2025-09-19",
        "dateModified": "2025-09-19",
        "inLanguage": "en",
        "isAccessibleForFree": true,
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD",
            "availability": "https://schema.org/InStock",
            "priceValidUntil": "2030-12-31"
        },
        "featureList": [
            "Automatic resistor selection from E24/E96 standard series",
            "Manual resistor value input and verification", 
            "Single known resistor calculation",
            "Voltage divider network design",
            "Power dissipation calculation",
            "Current calculation through feedback network",
            "Standard resistor value recommendation",
            "Package size recommendation based on power rating",
            "Multiple tolerance support (1% and 5%)",
            "Real-time calculation with error estimation",
            "Custom Electronics Design & Development",
            "Full-Cycle R&D and prototyping",
            "Circuit design & simulation",
            "Advanced PCB layout (HDI) and Signal Integrity",
            "Design for Manufacturing (DFM) and Gerber/BOM delivery",
            "Embedded firmware development (STM32, ESP32, RTOS)",
            "Mechanical engineering (SolidWorks) and ECAD/MCAD integration"
        ],
        "keywords": [
            "feedback resistor calculator", "DC/DC converter calculator", "voltage divider calculator", 
            "resistor divider calculator", "switching regulator calculator", "buck converter resistor",
            "boost converter resistor", "step-down converter calculator", "power supply feedback network",
            "voltage reference calculator", "R1 R2 calculator", "feedback network calculator",
            "switching power supply calculator", "voltage regulator calculator", "SMPS calculator",
            "PWM controller feedback", "standard resistor values", "E24 resistor series", "E96 resistor series",
            "precision resistor calculator", "power electronics calculator", "resistor ratio calculator",
            "custom electronics design", "electronics R&D", "full-cycle R&D", "feasibility studies",
            "prototyping", "mass production scaling", "circuit design simulation", "HDI PCB design",
            "advanced PCB layout", "signal integrity", "EMC EMI", "design for manufacturing",
            "DFM services", "Gerber files", "pick-and-place data", "cost-optimized BOMs",
            "embedded firmware STM32", "ESP32 firmware", "bare-metal", "RTOS",
            "mechanical engineering SolidWorks", "ECAD MCAD integration", "thermal management",
            "custom enclosure design"
        ],
        "about": {
            "@type": "Thing",
            "name": "DC/DC Converter Feedback Design",
            "description": "Electronic circuit design focused on voltage regulation and feedback networks in switching power supplies"
        },
        "mainEntity": {
            "@type": "Thing",
            "name": "Feedback Resistor Calculation",
            "description": "Mathematical calculation of resistor values for voltage divider networks in power conversion circuits"
        },
        "audience": {
            "@type": "Audience",
            "audienceType": ["Electronics Engineers", "Power Supply Designers", "Circuit Designers", "Engineering Students", "Hobbyists"]
        },
        "educationalLevel": "Intermediate to Advanced",
        "potentialAction": {
            "@type": "UseAction",
            "name": "Calculate Feedback Resistors",
            "description": "Calculate optimal R1 and R2 resistor values for DC/DC converter feedback networks"
        }
    }
    </script>

    <style>
        :root {
            --bg-color: #f8fafc;
            --card-bg: #ffffff;
            --text-main: #1e293b;
            --text-muted: #64748b;
            --primary: #2563eb;
            --primary-hover: #1d4ed8;
            --border-color: #e2e8f0;
            --input-bg: #f8fafc;
            --focus-ring: rgba(37, 99, 235, 0.2);
            --success-text: #059669;
            --rad: 12px;
            --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 16px;
            line-height: 1.6;
            font-size: 15px;
        }

        .main-container {
            width: 100%;
            max-width: 640px;
        }

        h1 {
            font-size: 28px;
            font-weight: 700;
            color: var(--text-main);
            text-align: center;
            margin-bottom: 8px;
            letter-spacing: -0.02em;
        }

        .card {
            background-color: var(--card-bg);
            border-radius: var(--rad);
            box-shadow: var(--shadow);
            padding: 24px;
            margin-bottom: 24px;
            border: 1px solid var(--border-color);
        }

        .description {
            background-color: var(--card-bg);
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 13px;
            color: var(--text-muted);
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow-sm);
            border-left: 3px solid var(--primary);
            line-height: 1.4;
        }

        .description strong {
            color: var(--text-main);
            font-weight: 600;
        }

        .circuit-image {
            text-align: center;
            margin: 0 0 24px 0;
            padding: 16px;
            background: var(--card-bg);
            border-radius: var(--rad);
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow-sm);
        }

        .circuit-image img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
        }

        .input-row {
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
        }

        .input-row label {
            display: block;
            font-weight: 500;
            color: var(--text-main);
            margin-bottom: 8px;
            width: 100%;
            font-size: 14px;
        }

        .input-row input,
        .input-row select {
            padding: 10px 14px;
            border: 1px solid var(--border-color);
            background-color: var(--input-bg);
            border-radius: 8px;
            font-size: 15px;
            width: 100%;
            color: var(--text-main);
            transition: all 0.2s ease;
            font-family: inherit;
        }

        .input-row input:focus,
        .input-row select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px var(--focus-ring);
            background-color: #fff;
        }

        .tabs {
            display: flex;
            margin: 24px 0 20px 0;
            background-color: var(--input-bg);
            padding: 4px;
            border-radius: 10px;
            border: 1px solid var(--border-color);
        }

        .tab {
            flex: 1;
            text-align: center;
            padding: 10px 8px;
            cursor: pointer;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-muted);
            transition: all 0.2s ease;
            user-select: none;
        }

        .tab:hover {
            color: var(--text-main);
        }

        .tab.active {
            background-color: var(--card-bg);
            color: var(--primary);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            font-weight: 600;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(4px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .tab-content.active {
            display: block;
        }

        .unit {
            font-size: 14px;
            color: var(--text-muted);
            padding-left: 8px;
            font-weight: 500;
        }

        .input-with-unit {
            display: flex;
            align-items: center;
            width: 100%;
        }

        .input-with-unit input {
            flex: 1;
        }

        .range-inputs {
            display: flex;
            align-items: center;
            gap: 12px;
            width: 100%;
        }

        .range-separator {
            color: var(--text-muted);
            font-size: 14px;
            font-weight: 500;
        }

        button {
            width: 100%;
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 14px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            margin-top: 24px;
            transition: all 0.2s ease;
            box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.2);
        }

        button:hover {
            background-color: var(--primary-hover);
            transform: translateY(-1px);
            box-shadow: 0 6px 8px -1px rgba(37, 99, 235, 0.3);
        }

        button:active {
            transform: translateY(1px);
            box-shadow: 0 2px 4px -1px rgba(37, 99, 235, 0.2);
        }

        .result {
            margin-top: 24px;
            font-size: 15px;
            color: var(--text-main);
        }

        .result:empty {
            display: none;
        }

        .success-box {
            padding: 16px;
            background-color: #f0fdf4;
            border: 1px solid #bbf7d0;
            border-radius: var(--rad);
            box-shadow: var(--shadow-sm);
            animation: fadeIn 0.4s ease;
        }

        .error {
            color: #ef4444;
            font-weight: 500;
            display: block;
            background-color: #fef2f2;
            padding: 16px;
            border-radius: var(--rad);
            border: 1px solid #fecaca;
            box-shadow: var(--shadow-sm);
            animation: fadeIn 0.3s ease;
        }

        .standard-value {
            color: var(--success-text);
            font-weight: 600;
        }

        .developer-info {
            text-align: center;
            margin-top: 32px;
            padding: 20px 0;
            border-top: 1px solid var(--border-color);
            font-size: 14px;
            color: var(--text-muted);
        }

        .developer-name {
            font-weight: 600;
            color: var(--text-main);
            margin-bottom: 4px;
        }

        .developer-info a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
        }

        .developer-info a:hover {
            text-decoration: underline;
        }

        /* Responsive Design (Mobile First) */
        /* Base styles (mobile) are already handled above. Mobile view stacking vertically is default. */
        @media (max-width: 479px) {

            .input-row input,
            .input-row select,
            .input-with-unit input {
                width: 100%;
                font-size: 16px;
                /* Prevent iOS zoom */
            }

            .range-inputs {
                flex-direction: column;
                align-items: stretch;
            }

            .range-separator {
                display: none;
            }

            .input-with-unit .unit {
                padding-left: 8px;
            }

            .tab {
                font-size: 13px;
                padding: 10px 4px;
            }
        }

        @media (min-width: 480px) and (max-width: 767px) {
            .input-row {
                flex-direction: row;
                align-items: center;
                gap: 16px;
            }

            .input-row label {
                width: 40%;
                margin-bottom: 0;
                flex-shrink: 0;
            }

            .input-row input,
            .input-row select {
                width: 100%;
            }

            .input-with-unit {
                width: auto;
                flex: 1;
            }

            .range-row label {
                width: 100%;
                margin-bottom: 8px;
            }

            .range-inputs {
                width: 100%;
            }

            #resistor_tolerance {
                flex: 1;
            }
        }

        @media (min-width: 768px) {
            body {
                padding: 60px 20px;
                background-color: #f1f5f9;
            }

            .main-container {
                max-width: 800px;
            }

            .card {
                padding: 32px;
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 0 24px;
                /* Row gap handled by input-row margin, column gap 24px */
                align-items: start;
            }

            /* Elements that should span full width of the card */
            .card>.tabs,
            .card>.tab-content,
            .card>button,
            .card>.result {
                grid-column: 1 / -1;
            }

            .input-row {
                flex-direction: column;
                align-items: flex-start;
                margin-bottom: 20px;
            }

            .input-row label {
                width: 100%;
                margin-bottom: 8px;
            }

            .input-row input,
            .input-row select {
                width: 100%;
            }

            .input-with-unit {
                width: 100%;
            }

            .range-row {
                grid-column: 1 / -1;
                /* Range row spans both columns */
                flex-direction: row;
                align-items: center;
                gap: 16px;
            }

            .range-row label {
                width: auto;
                margin-bottom: 0;
            }

            .range-inputs {
                flex: 1;
            }

            #resistor_tolerance {
                flex: 1;
            }
        }

        /* Ultra-Wide Desktop (3-column layout) */
        @media (min-width: 1200px) {
            .main-container {
                max-width: 1400px;
            }

            .calculator-grid {
                display: grid;
                grid-template-columns: minmax(300px, 1fr) minmax(400px, 1.3fr) minmax(300px, 1fr);
                gap: 24px;
                align-items: start;
            }

            /* ... existing elements ... */
            .circuit-image {
                margin: 0;
            }

            .card {
                margin-bottom: 0;
            }

            .result-wrapper {
                margin: 0;
            }
        }
    </style>
</head>

<body>
    <main class="main-container">
        <h1>Feedback Resistor Calculator</h1>

        <div class="description">
            <strong>About:</strong> This calculator helps you determine optimal feedback resistor values (R1 and R2) for
            DC/DC converter circuits. The feedback network creates a voltage divider that sets the output voltage
            according to the formula: <strong>V<sub>out</sub> = V<sub>ref</sub> √ó (1 + R1/R2)</strong>. Choose from
            automatic selection with standard resistor values, specify one known resistor, or manually enter both
            values.
        </div>

        <div class="calculator-grid">
            <div class="circuit-image">
                <img src="image.png" alt="DC/DC Feedback Resistor Circuit Diagram"
                    title="Feedback resistor circuit showing R1 (upper) and R2 (lower) configuration">
            </div>

            <div class="card">
                <div class="input-row">
                    <label for="vref">Reference Voltage (Vref/FB)</label>
                    <div class="input-with-unit move-left">
                        <input type="number" id="vref" step="0.001" value="0.6" min="0.1" max="10">
                        <span class="unit">V</span>
                    </div>
                </div>

                <div class="input-row">
                    <label for="vref_tol">Vref Tolerance (%)</label>
                    <div class="input-with-unit move-left">
                        <input type="number" id="vref_tol" step="0.1" value="0.1" min="0" max="10">
                        <span class="unit">%</span>
                    </div>
                </div>

                <div class="input-row">
                    <label for="vout_desired">Output Voltage</label>
                    <div class="input-with-unit move-left">
                        <input type="number" id="vout_desired" step="0.001" value="3.3" min="0.1" max="50">
                        <span class="unit">V</span>
                    </div>
                </div>

                <div class="input-row">
                    <label for="resistor_tolerance">Resistor Series</label>
                    <select id="resistor_tolerance" class="move-left">
                        <option value="1">1% (E96 series)</option>
                        <option value="5">5% (E24 series)</option>
                        <option value="both">5%, 1% (E24, E96)</option>
                    </select>
                </div>

                <div class="input-row">
                    <label for="ppm_r1">PPM for R1 (upper)</label>
                    <div class="input-with-unit move-left">
                        <input type="number" id="ppm_r1" step="1" value="100" min="0" max="1000">
                        <span class="unit">PPM</span>
                    </div>
                </div>

                <div class="input-row">
                    <label for="ppm_r2">PPM for R2 (lower)</label>
                    <div class="input-with-unit move-left">
                        <input type="number" id="ppm_r2" step="1" value="100" min="0" max="1000">
                        <span class="unit">PPM</span>
                    </div>
                </div>

                <div class="tabs">
                    <div class="tab active" onclick="showTab('auto')">Auto Selection</div>
                    <div class="tab" onclick="showTab('single')">One Resistor</div>
                    <div class="tab" onclick="showTab('manual')">Manual Input</div>
                </div>

                <div id="auto-tab" class="tab-content active">
                    <div class="input-row range-row">
                        <label>Resistor Range</label>
                        <div class="range-inputs">
                            <div class="input-with-unit">
                                <input type="number" id="min_resistor" step="0.1" value="1" placeholder="Min">
                                <span class="unit">kŒ©</span>
                            </div>
                            <span class="range-separator">to</span>
                            <div class="input-with-unit">
                                <input type="number" id="max_resistor" step="0.1" value="100" placeholder="Max">
                                <span class="unit">kŒ©</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="single-tab" class="tab-content">
                    <div class="input-row">
                        <label for="known_resistor_pos">Known Resistor</label>
                        <select id="known_resistor_pos">
                            <option value="r1">R1 (upper)</option>
                            <option value="r2">R2 (lower)</option>
                        </select>
                    </div>
                    <div class="input-row">
                        <label for="known_resistor_value">Resistor Value</label>
                        <div class="input-with-unit">
                            <input type="number" id="known_resistor_value" step="0.01" value="10">
                            <span class="unit">kŒ©</span>
                        </div>
                    </div>
                </div>

                <div id="manual-tab" class="tab-content">
                    <div class="input-row">
                        <label for="r1_manual">R1 (upper)</label>
                        <div class="input-with-unit">
                            <input type="number" id="r1_manual" step="0.01" value="10">
                            <span class="unit">kŒ©</span>
                        </div>
                    </div>
                    <div class="input-row">
                        <label for="r2_manual">R2 (lower)</label>
                        <div class="input-with-unit">
                            <input type="number" id="r2_manual" step="0.01" value="10">
                            <span class="unit">kŒ©</span>
                        </div>
                    </div>
                </div>

                <button onclick="calculateResistors()">Calculate</button>

            </div> <!-- end of form card -->

            <div class="result-wrapper">
                <div id="resistor_result" class="result" style="margin-top:0;"></div>
            </div>
        </div> <!-- end of calculator-grid -->



        <script>
            // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ä—è–¥—ã —Ä–µ–∑–∏—Å—Ç–æ—Ä–æ–≤
            const E24 = [1.0, 1.1, 1.2, 1.3, 1.5, 1.6, 1.8, 2.0, 2.2, 2.4, 2.7, 3.0,
                3.3, 3.6, 3.9, 4.3, 4.7, 5.1, 5.6, 6.2, 6.8, 7.5, 8.2, 9.1];

            const E96 = [1.00, 1.02, 1.05, 1.07, 1.10, 1.13, 1.15, 1.18, 1.21, 1.24, 1.27, 1.30,
                1.33, 1.37, 1.40, 1.43, 1.47, 1.50, 1.54, 1.58, 1.62, 1.65, 1.69, 1.74,
                1.78, 1.82, 1.87, 1.91, 1.96, 2.00, 2.05, 2.10, 2.15, 2.21, 2.26, 2.32,
                2.37, 2.43, 2.49, 2.55, 2.61, 2.67, 2.74, 2.80, 2.87, 2.94, 3.01, 3.09,
                3.16, 3.24, 3.32, 3.40, 3.48, 3.57, 3.65, 3.74, 3.83, 3.92, 4.02, 4.12,
                4.22, 4.32, 4.42, 4.53, 4.64, 4.75, 4.87, 4.99, 5.11, 5.23, 5.36, 5.49,
                5.62, 5.76, 5.90, 6.04, 6.19, 6.34, 6.49, 6.65, 6.81, 6.98, 7.15, 7.32,
                7.50, 7.68, 7.87, 8.06, 8.25, 8.45, 8.66, 8.87, 9.09, 9.31, 9.53, 9.76];

            function showTab(tabName) {
                document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));

                document.querySelector(`.tab[onclick="showTab('${tabName}')"]`).classList.add('active');
                document.getElementById(`${tabName}-tab`).classList.add('active');
            }

            function getSeriesForValue(value, tolerance) {
                // value is in the same units used when calling (kŒ© in some places)
                const checkSeries = (seriesArr, seriesName) => {
                    const decade = Math.pow(10, Math.floor(Math.log10(value)));
                    const normalized = value / decade;
                    return seriesArr.some(x => Math.abs(x - normalized) < 0.001) ? seriesName : null;
                };

                if (tolerance === 'both') {
                    return checkSeries(E96, 'E96') || checkSeries(E24, 'E24') || null;
                } else if (tolerance === '1') {
                    return checkSeries(E96, 'E96') || null;
                } else {
                    return checkSeries(E24, 'E24') || null;
                }
            }

            function findClosestResistor(value, tolerance) {
                // returns { value: number, series: 'E96'|'E24' }
                const searchInSeries = (seriesArr, seriesName) => {
                    let decade = Math.pow(10, Math.floor(Math.log10(value)));
                    const normalized = value / decade;
                    let closest = seriesArr[0];
                    let minDiff = Math.abs(normalized - closest);
                    for (const r of seriesArr) {
                        const diff = Math.abs(normalized - r);
                        if (diff < minDiff) {
                            minDiff = diff;
                            closest = r;
                        }
                    }
                    if (normalized > 9.5 && closest < 1.5) {
                        decade *= 10;
                    }
                    return { value: closest * decade, series: seriesName, diff: Math.abs(closest * decade - value) };
                };

                if (tolerance === 'both') {
                    const cand1 = searchInSeries(E96, 'E96');
                    const cand2 = searchInSeries(E24, 'E24');
                    if (cand1.diff < cand2.diff) return { value: cand1.value, series: cand1.series };
                    if (cand2.diff < cand1.diff) return { value: cand2.value, series: cand2.series };
                    // tie-breaker prefer higher precision E96
                    return { value: Math.min(cand1.value, cand2.value), series: 'E96' };
                } else if (tolerance === '1') {
                    const c = searchInSeries(E96, 'E96');
                    return { value: c.value, series: c.series };
                } else {
                    const c = searchInSeries(E24, 'E24');
                    return { value: c.value, series: c.series };
                }
            }



            function formatResistorValue(value) {
                if (value >= 1000000) {
                    return `${(value / 1000000).toFixed(2)} MŒ©`;
                } else if (value >= 1000) {
                    return `${(value / 1000).toFixed(2)} kŒ©`;
                } else {
                    return `${value.toFixed(2)} Œ©`;
                }
            }

            function formatPower(power) {
                if (power >= 1) {
                    return `${power.toFixed(3)} W`;
                } else if (power >= 0.001) {
                    return `${(power * 1000).toFixed(2)} mW`;
                } else {
                    return `${(power * 1000000).toFixed(1)} ¬µW`;
                }
            }

            function formatCurrent(current) {
                if (current >= 1) {
                    return `${current.toFixed(3)} A`;
                } else if (current >= 0.001) {
                    return `${(current * 1000).toFixed(2)} mA`;
                } else {
                    return `${(current * 1000000).toFixed(1)} ¬µA`;
                }
            }

            function getRecommendedPowerRating(actualPower) {
                // –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º —Ä–µ–∑–∏—Å—Ç–æ—Ä —Å –º–æ—â–Ω–æ—Å—Ç—å—é –≤ 2-3 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ —Ä–∞—Å—á–µ—Ç–Ω–æ–π –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
                const safetyFactor = 2.5;
                const requiredPower = actualPower * safetyFactor;

                // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –Ω–æ–º–∏–Ω–∞–ª—ã –º–æ—â–Ω–æ—Å—Ç–∏ —Ä–µ–∑–∏—Å—Ç–æ—Ä–æ–≤
                const standardPowers = [0.0625, 0.125, 0.25, 0.5, 1, 2, 5, 10, 25, 50, 100]; // –í–∞—Ç—Ç—ã

                for (const power of standardPowers) {
                    if (requiredPower <= power) {
                        if (power >= 1) {
                            return `${power}W`;
                        } else {
                            return `${power * 1000}mW`;
                        }
                    }
                }

                return `>100W`;
            }

            function getRecommendedPackageSize(powerRating, voltage, resistorValue) {
                // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –º–æ—â–Ω–æ—Å—Ç—å –≤ —á–∏—Å–ª–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–í–∞—Ç—Ç—ã)
                let powerW;
                if (typeof powerRating === 'string') {
                    if (powerRating.includes('mW')) {
                        powerW = parseFloat(powerRating) / 1000;
                    } else if (powerRating.includes('W')) {
                        powerW = parseFloat(powerRating);
                    } else {
                        powerW = 0.1; // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
                    }
                } else {
                    powerW = powerRating;
                }

                // –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∫–æ—Ä–ø—É—Å–∞–º SMD —Ä–µ–∑–∏—Å—Ç–æ—Ä–æ–≤
                const smdPackages = [
                    { size: '0201', power: 0.05, voltage: 15, name: '0201 (0.6√ó0.3mm)' },
                    { size: '0402', power: 0.0625, voltage: 50, name: '0402 (1.0√ó0.5mm)' },
                    { size: '0603', power: 0.1, voltage: 50, name: '0603 (1.6√ó0.8mm)' },
                    { size: '0805', power: 0.125, voltage: 150, name: '0805 (2.0√ó1.25mm)' },
                    { size: '1206', power: 0.25, voltage: 200, name: '1206 (3.2√ó1.6mm)' },
                    { size: '1210', power: 0.5, voltage: 200, name: '1210 (3.2√ó2.5mm)' },
                    { size: '2010', power: 0.75, voltage: 200, name: '2010 (5.0√ó2.5mm)' },
                    { size: '2512', power: 1.0, voltage: 200, name: '2512 (6.4√ó3.2mm)' }
                ];

                // –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–≤–æ–¥–Ω—ã–º —Ä–µ–∑–∏—Å—Ç–æ—Ä–∞–º
                const throughHolePackages = [
                    { type: 'Axial 1/4W', power: 0.25, voltage: 500, name: 'Axial 1/4W (√ò2.3√ó6mm)' },
                    { type: 'Axial 1/2W', power: 0.5, voltage: 500, name: 'Axial 1/2W (√ò3.2√ó9mm)' },
                    { type: 'Axial 1W', power: 1.0, voltage: 500, name: 'Axial 1W (√ò3.6√ó10mm)' },
                    { type: 'Axial 2W', power: 2.0, voltage: 500, name: 'Axial 2W (√ò5√ó12mm)' },
                    { type: 'Axial 5W', power: 5.0, voltage: 500, name: 'Axial 5W (√ò7√ó16mm)' }
                ];

                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—ã—Å–æ–∫–æ–≤–æ–ª—å—Ç–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (>100–í)
                const highVoltage = voltage > 100;

                let recommendations = [];

                // –ò—â–µ–º –ø–æ–¥—Ö–æ–¥—è—â–∏–µ SMD –∫–æ—Ä–ø—É—Å–∞
                for (const pkg of smdPackages) {
                    if (pkg.power >= powerW && pkg.voltage >= voltage) {
                        const note = highVoltage && pkg.voltage < 150 ? ' ‚ö†Ô∏è High voltage' : '';
                        recommendations.push(`SMD ${pkg.name}${note}`);
                        break; // –ë–µ—Ä–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥—è—â–∏–π
                    }
                }

                // –ò—â–µ–º –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –≤—ã–≤–æ–¥–Ω—ã–µ –∫–æ—Ä–ø—É—Å–∞
                for (const pkg of throughHolePackages) {
                    if (pkg.power >= powerW && pkg.voltage >= voltage) {
                        recommendations.push(`Through-hole ${pkg.name}`);
                        break; // –ë–µ—Ä–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥—è—â–∏–π
                    }
                }

                // –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –≤—ã—Å–æ–∫–æ–≥–æ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è –∏–ª–∏ –º–æ—â–Ω–æ—Å—Ç–∏
                if (voltage > 200) {
                    recommendations.push('üî• Consider high-voltage rated resistors');
                }

                if (powerW > 2) {
                    recommendations.push('üå°Ô∏è Consider power resistors with heat sinks');
                }

                // –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ç–æ–∫—É –¥–ª—è —Ç–æ–Ω–∫–æ–ø–ª–µ–Ω–æ—á–Ω—ã—Ö —Ä–µ–∑–∏—Å—Ç–æ—Ä–æ–≤
                const current = Math.sqrt(powerW / resistorValue) * 1000; // mA
                if (current > 100) {
                    recommendations.push('‚ö° Consider thick-film or wirewound for high current');
                }

                return recommendations.length > 0 ? recommendations : ['Contact manufacturer for custom solution'];
            }

            function calculateResistors() {
                const vref = parseFloat(document.getElementById('vref').value.replace(',', '.'));
                const voutDesired = parseFloat(document.getElementById('vout_desired').value.replace(',', '.'));
                const tolerance = document.getElementById('resistor_tolerance').value; // '1', '5', or 'both'
                let toleranceText;
                let vref_tol = 0.1;
                if (tolerance === '1') toleranceText = "1% (E96 series)";
                else if (tolerance === '5') toleranceText = "5% (E24 series)";
                else toleranceText = "E96 + E24 (choose best)";

                if (isNaN(vref) || isNaN(voutDesired)) {
                    document.getElementById('resistor_result').innerHTML =
                        '<span class="error">Please enter valid voltage values</span>';
                    return;
                }

                if (voutDesired <= vref) {
                    document.getElementById('resistor_result').innerHTML =
                        '<span class="error">Output voltage must be greater than reference voltage</span>';
                    return;
                }

                let r1, r2, r1Series = null, r2Series = null;
                const targetRatio = (voutDesired / vref) - 1;
                const activeTab = document.querySelector('.tab.active').getAttribute('onclick').replace("showTab('", "").replace("')", "");

                if (activeTab === 'auto') {
                    const minR = parseFloat(document.getElementById('min_resistor').value.replace(',', '.')) * 1000;
                    const maxR = parseFloat(document.getElementById('max_resistor').value.replace(',', '.')) * 1000;

                    if (isNaN(minR) || isNaN(maxR) || minR >= maxR || minR <= 0 || maxR <= 0) {
                        document.getElementById('resistor_result').innerHTML =
                            '<span class="error">Please enter valid resistor range</span>';
                        return;
                    }

                    const seriesList = [];
                    if (tolerance === '1') seriesList.push({ arr: E96, name: 'E96' });
                    else if (tolerance === '5') seriesList.push({ arr: E24, name: 'E24' });
                    else { seriesList.push({ arr: E96, name: 'E96' }); seriesList.push({ arr: E24, name: 'E24' }); }

                    let bestR1 = 0, bestR2 = 0, bestR1Series = null, bestR2Series = null, minError = Infinity;

                    for (let decade = Math.pow(10, Math.floor(Math.log10(minR))); decade <= maxR * 10; decade *= 10) {
                        for (const seriesObj of seriesList) {
                            for (const value of seriesObj.arr) {
                                const r2Candidate = value * decade;
                                if (r2Candidate < minR || r2Candidate > maxR) continue;

                                const r1Candidate = r2Candidate * targetRatio;
                                if (r1Candidate < minR || r1Candidate > maxR) continue;

                                const r1StdObj = findClosestResistor(r1Candidate, tolerance);
                                const actualVout = vref * (1 + r1StdObj.value / r2Candidate);
                                const error = Math.abs(actualVout - voutDesired);

                                if (error < minError) {
                                    minError = error;
                                    bestR1 = r1StdObj.value;
                                    bestR1Series = r1StdObj.series;
                                    bestR2 = r2Candidate;
                                    bestR2Series = seriesObj.name;
                                }
                            }
                        }
                    }

                    if (bestR1 === 0 || bestR2 === 0) {
                        document.getElementById('resistor_result').innerHTML =
                            '<span class="error">Could not find resistors within specified range</span>';
                        return;
                    }

                    r1 = bestR1;
                    r2 = bestR2;
                    r1Series = bestR1Series;
                    r2Series = bestR2Series;
                }
                else if (activeTab === 'single') {
                    const knownPos = document.getElementById('known_resistor_pos').value;
                    const knownValue = parseFloat(document.getElementById('known_resistor_value').value.replace(',', '.')) * 1000;

                    if (isNaN(knownValue) || knownValue <= 0) {
                        document.getElementById('resistor_result').innerHTML =
                            '<span class="error">Please enter valid resistor value</span>';
                        return;
                    }

                    if (knownPos === 'r1') {
                        r1 = knownValue;
                        r2 = r1 / targetRatio;
                    } else {
                        r2 = knownValue;
                        r1 = r2 * targetRatio;
                    }

                    r1Series = getSeriesForValue(r1 / 1000, tolerance);
                    r2Series = getSeriesForValue(r2 / 1000, tolerance);

                    const r1Obj = findClosestResistor(r1, tolerance);
                    r1 = r1Obj.value;
                    r1Series = r1Obj.series || r1Series;
                    const r2Obj = findClosestResistor(r2, tolerance);
                    r2 = r2Obj.value;
                    r2Series = r2Obj.series || r2Series;
                }
                else {
                    r1 = parseFloat(document.getElementById('r1_manual').value.replace(',', '.')) * 1000;
                    r2 = parseFloat(document.getElementById('r2_manual').value.replace(',', '.')) * 1000;

                    if (isNaN(r1) || isNaN(r2) || r1 <= 0 || r2 <= 0) {
                        document.getElementById('resistor_result').innerHTML =
                            '<span class="error">Please enter valid resistor values</span>';
                        return;
                    }

                    r1Series = getSeriesForValue(r1 / 1000, tolerance);
                    r2Series = getSeriesForValue(r2 / 1000, tolerance);

                    const r1Obj = findClosestResistor(r1, tolerance);
                    r1 = r1Obj.value;
                    r1Series = r1Obj.series || r1Series;
                    const r2Obj = findClosestResistor(r2, tolerance);
                    r2 = r2Obj.value;
                    r2Series = r2Obj.series || r2Series;
                }

                const voutActual = vref * (1 + r1 / r2);
                const error = Math.abs(voutActual - voutDesired) / voutDesired * 100;

                // –†–∞—Å—á–µ—Ç —Ç–æ–∫–∞ –∏ –º–æ—â–Ω–æ—Å—Ç–∏
                const totalResistance = r1 + r2; // –û–º
                const dividerCurrent = voutActual / totalResistance; // A
                const powerR1 = Math.pow(dividerCurrent, 2) * r1; // W
                const powerR2 = Math.pow(dividerCurrent, 2) * r2; // W
                const totalPower = powerR1 + powerR2; // W

                let result = `<div class="success-box"><strong>Results:</strong><br><br>`;
                result += `<strong>Target V<sub>out</sub>:</strong> ${voutDesired.toFixed(3)} V<br>`;
                result += `<strong>Actual V<sub>out</sub>:</strong> ${voutActual.toFixed(3)} V (error ${error.toFixed(2)}%)<br><br>`;

                result += `<strong>R1 (upper):</strong> ${formatResistorValue(r1)}`;
                if (r1Series) result += ` <span class="standard-value">(${r1Series} series)</span>`;
                result += `<br>`;

                result += `<strong>R2 (lower):</strong> ${formatResistorValue(r2)}`;
                if (r2Series) result += ` <span class="standard-value">(${r2Series} series)</span>`;
                result += `<br>`;
                result += `<hr style="border: none; border-top: 1px solid #ddd; margin: 10px 0;">`;

                result += `<strong>Detailed calculations including factors affecting the output voltage:</strong><br>`;
                result += `Below are detailed calculations considering factors: resistor tolerance, temperature, Vref tolerance.<br><br>`;

                // Tolerance variations
                const tol_r1 = r1Series === 'E96' ? 0.01 : 0.05;
                const tol_r2 = r2Series === 'E96' ? 0.01 : 0.05;
                result += `<strong>Output Voltage Variations due to Resistor Tolerance:</strong><br>`;
                result += `These are the possible output voltages considering the tolerance of the resistors. All combinations of minimum and maximum values for R1 and R2 are shown.<br>`;
                result += `R1 tolerance: ${(tol_r1 * 100).toFixed(0)}%, R2 tolerance: ${(tol_r2 * 100).toFixed(0)}%<br>`;
                const r1_min = r1 * (1 - tol_r1);
                const r1_max = r1 * (1 + tol_r1);
                const r2_min = r2 * (1 - tol_r2);
                const r2_max = r2 * (1 + tol_r2);
                const vout_min_min = vref * (1 + r1_min / r2_min);
                const vout_min_max = vref * (1 + r1_min / r2_max);
                const vout_max_min = vref * (1 + r1_max / r2_min);
                const vout_max_max = vref * (1 + r1_max / r2_max);
                result += `Vout (R1 min, R2 min): ${vout_min_min.toFixed(3)} V<br>`;
                result += `Vout (R1 min, R2 max): ${vout_min_max.toFixed(3)} V<br>`;
                result += `Vout (R1 max, R2 min): ${vout_max_min.toFixed(3)} V<br>`;
                result += `Vout (R1 max, R2 max): ${vout_max_max.toFixed(3)} V<br>`;
                result += `<strong>Minimum Vout: ${Math.min(vout_min_min, vout_min_max, vout_max_min, vout_max_max).toFixed(3)} V</strong><br>`;
                result += `<strong>Maximum Vout: ${Math.max(vout_min_min, vout_min_max, vout_max_min, vout_max_max).toFixed(3)} V</strong><br><br>`;

                // Temperature variations
                const ppm_r1 = parseFloat(document.getElementById('ppm_r1').value.replace(',', '.')) || 100;
                const ppm_r2 = parseFloat(document.getElementById('ppm_r2').value.replace(',', '.')) || 100;
                vref_tol = parseFloat(document.getElementById('vref_tol').value.replace(',', '.')) || 0.1;
                result += `<strong>Output Voltage Variations due to Temperature:</strong><br>`;
                result += `These show how the output voltage changes with temperature, assuming R1 has ${ppm_r1} PPM/¬∞C and R2 has ${ppm_r2} PPM/¬∞C, with nominal temperature of 25¬∞C.<br>`;
                const temperatures = [-40, 0, 25, 85];
                let tempVouts = [];
                for (const t of temperatures) {
                    const deltaT = t - 25;
                    const r1_temp = r1 * (1 + (ppm_r1 / 1e6) * deltaT);
                    const r2_temp = r2 * (1 + (ppm_r2 / 1e6) * deltaT);
                    const vout_temp = vref * (1 + r1_temp / r2_temp);
                    result += `Vout at ${t}¬∞C: ${vout_temp.toFixed(6)} V<br>`;
                    tempVouts.push(vout_temp);
                }
                const minTempVout = Math.min(...tempVouts);
                const maxTempVout = Math.max(...tempVouts);
                result += `<strong>Minimum Vout: ${minTempVout.toFixed(6)} V</strong><br>`;
                result += `<strong>Maximum Vout: ${maxTempVout.toFixed(6)} V</strong><br><br>`;

                result += `<strong>Output Voltage Variations due to Vref Tolerance:</strong><br>`;
                result += `Vref tolerance: ${vref_tol}%<br>`;
                const vout_vref_min = voutActual * (1 - vref_tol / 100);
                const vout_vref_max = voutActual * (1 + vref_tol / 100);
                result += `<strong>Minimum Vout: ${vout_vref_min.toFixed(4)} V</strong><br>`;
                result += `<strong>Maximum Vout: ${vout_vref_max.toFixed(4)} V</strong><br><br>`;

                // Combined variations
                const allVouts = [];
                for (const t of temperatures) {
                    const deltaT = t - 25;
                    const r1_temp = r1 * (1 + (ppm_r1 / 1e6) * deltaT);
                    const r2_temp = r2 * (1 + (ppm_r2 / 1e6) * deltaT);
                    const r1_min_temp = r1_temp * (1 - tol_r1);
                    const r1_max_temp = r1_temp * (1 + tol_r1);
                    const r2_min_temp = r2_temp * (1 - tol_r2);
                    const r2_max_temp = r2_temp * (1 + tol_r2);
                    const vouts_temp = [
                        vref * (1 + r1_min_temp / r2_min_temp),
                        vref * (1 + r1_min_temp / r2_max_temp),
                        vref * (1 + r1_max_temp / r2_min_temp),
                        vref * (1 + r1_max_temp / r2_max_temp)
                    ];
                    allVouts.push(...vouts_temp);
                }
                const globalMinVout = Math.min(...allVouts);
                const globalMaxVout = Math.max(...allVouts);
                vref_tol = parseFloat(document.getElementById('vref_tol').value.replace(',', '.')) || 0.1;
                const globalMinVout_corrected = globalMinVout * (1 - vref_tol / 100);
                const globalMaxVout_corrected = globalMaxVout * (1 + vref_tol / 100);
                const deltaVout = globalMaxVout_corrected - globalMinVout_corrected;
                const percentDelta = (deltaVout / voutDesired) * 100;
                result += `<strong>Combined Variations (Tolerance + Temperature + Vref ${vref_tol}%):</strong><br>`;
                result += `Worst-case variations considering resistor tolerance, temperature, and Vref tolerance effects across all combinations.<br>`;
                result += `<strong>Minimum Vout:</strong> <strong>${globalMinVout_corrected.toFixed(4)} V</strong><br>`;
                result += `<strong>Maximum Vout:</strong> <strong>${globalMaxVout_corrected.toFixed(4)} V</strong><br>`;
                result += `<strong>Delta Vout:</strong> <strong>${deltaVout.toFixed(4)} V</strong><br>`;
                result += `<strong>Deviation from Target ${voutDesired.toFixed(3)} V:</strong> <strong>¬±${(percentDelta / 2).toFixed(2)}%</strong><br><br>`;

                result += `<hr style="border: none; border-top: 1px solid #ddd; margin: 10px 0;">`;

                result += `<strong>Divider Current:</strong> ${formatCurrent(dividerCurrent)}<br>`;
                result += `<strong>Power R1:</strong> ${formatPower(powerR1)}<br>`;
                result += `<strong>Power R2:</strong> ${formatPower(powerR2)}<br>`;
                result += `<strong>Total Power:</strong> ${formatPower(totalPower)}<br><br>`;

                // –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –º–æ—â–Ω–æ—Å—Ç–∏ —Ä–µ–∑–∏—Å—Ç–æ—Ä–æ–≤
                const recommendedPowerR1 = getRecommendedPowerRating(powerR1);
                const recommendedPowerR2 = getRecommendedPowerRating(powerR2);

                result += `<strong>Recommended Power Ratings:</strong><br>`;
                result += `<strong>R1:</strong> ${recommendedPowerR1} resistor<br>`;
                result += `<strong>R2:</strong> ${recommendedPowerR2} resistor<br><br>`;

                // –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∫–æ—Ä–ø—É—Å–∞–º —Ä–µ–∑–∏—Å—Ç–æ—Ä–æ–≤
                const voltageDropR1 = dividerCurrent * r1;
                const voltageDropR2 = dividerCurrent * r2;
                const packageR1 = getRecommendedPackageSize(recommendedPowerR1, voltageDropR1, r1);
                const packageR2 = getRecommendedPackageSize(recommendedPowerR2, voltageDropR2, r2);

                result += `<strong>Recommended Package Sizes:</strong> (minimal size with 2.5x power margin)<br>`;
                result += `<strong>R1 packages:</strong><br>`;
                packageR1.forEach(pkg => {
                    result += `&nbsp;&nbsp;‚Ä¢ ${pkg}<br>`;
                });
                result += `<strong>R2 packages:</strong><br>`;
                packageR2.forEach(pkg => {
                    result += `&nbsp;&nbsp;‚Ä¢ ${pkg}<br>`;
                });
                result += `</div>`;

                document.getElementById('resistor_result').innerHTML = result;
            }
        </script>

        <!-- Technical Reference -->
        <div class="tech-reference"
            style="background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; margin: 0 0 20px 0; font-size: 12px; color: #666; text-align: center;">
            <h4 style="margin: 0 0 15px 0; color: #010912; font-size: 15px;">Resistor Specifications & Package Info</h4>

            <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 40px; margin-bottom: 20px;">
                <div style="text-align: left;">
                    <strong style="color: #495057;">SMD Packages:</strong>
                    <div style="font-family: 'Courier New', monospace; line-height: 1.4; margin-top: 4px;">
                        <strong>0201:</strong> 50mW/15V (max. 50V)<br>
                        <strong>0402:</strong> 62.5mW/50V (max. 100V)<br>
                        <strong>0603:</strong> 100mW/50V (max. 100V)<br>
                        <strong>0805:</strong> 125mW/150V (max. 200V)<br>
                        <strong>1206:</strong> 250mW/200V (max. 400V)<br>
                        <strong>1210:</strong> 500mW/200V (max. 400V)<br>
                        <strong>2010:</strong> 750mW/200V (max. 400V)<br>
                        <strong>2512:</strong> 1W/200V (max. 400V)
                    </div>
                </div>
                <div style="text-align: left;">
                    <strong style="color: #495057;">Through-hole Packages:</strong>
                    <div style="font-family: 'Courier New', monospace; line-height: 1.4; margin-top: 4px;">
                        <strong>1/4W:</strong> 250mW/500V (Axial √ò2.3√ó6mm)<br>
                        <strong>1/2W:</strong> 500mW/500V (Axial √ò3.2√ó9mm)<br>
                        <strong>1W:</strong> 1W/500V (Axial √ò3.6√ó10mm)<br>
                        <strong>2W:</strong> 2W/500V (Axial √ò5√ó12mm)<br>
                        <strong>5W:</strong> 5W/500V (Axial √ò7√ó16mm)
                    </div>
                </div>
            </div>

            <hr style="border: none; border-top: 1px solid #dee2e6; margin: 15px 0;">

            <h4 style="margin: 0 0 10px 0; color: #010912; font-size: 14px;">DC/DC Design Guidelines</h4>
            <div style="display: inline-block; text-align: left; max-width: 600px; line-height: 1.5;">
                <ul style="margin: 0; padding-left: 20px;">
                    <li style="margin-bottom: 6px;"><strong>Resistor Values:</strong> Lower values (1kŒ©-10kŒ©) improve
                        noise immunity but increase quiescent current, reducing light-load efficiency. Higher values
                        (100kŒ©+) improve efficiency but are susceptible to PCB leakage and noise coupling.</li>
                    <li style="margin-bottom: 6px;"><strong>Feedforward Capacitor (C<sub>ff</sub>):</strong> Often added
                        in parallel with R1 to improve phase margin and transient response. Typical values range from
                        10pF to 100pF depending on the crossover frequency.</li>
                    <li style="margin-bottom: 6px;"><strong>Layout (PCB):</strong> Place R1 and R2 as close to the FB
                        pin as possible. Keep the FB trace very short to minimize noise pickup, and route it away from
                        the switch node (SW) and inductor.</li>
                </ul>
            </div>

            <div style="font-size: 12px; color: #16a34a; font-weight: 600; margin-top: 15px;">
                ‚ö° Safety Factor: Calculator recommends 2.5x power margin for reliability
            </div>

            <div style="font-size: 11px; margin-top: 6px; font-style: italic; color: #94a3b8;">
                *Working voltage/Maximum voltage ratings based on industry standards
            </div>
        </div>

        <div class="contact-card"
            style="background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%); border: 1px solid #bae6fd; border-radius: 12px; padding: 24px; margin: 0 0 24px 0; font-size: 14px; color: #0f172a; text-align: center; box-shadow: 0 10px 15px -3px rgba(14,165,233,0.15);">
            <h4 style="margin: 0 0 8px 0; font-size: 20px; font-weight: 700; color: #0369a1;">Custom Electronics Design
                & Development</h4>
            <p style="margin: 0 0 16px; font-size: 15px; color: #334155;">Transforming complex concepts into
                market-ready products with precision engineering.</p>

            <div
                style="background: rgba(255, 255, 255, 0.7); border: 1px solid rgba(255, 255, 255, 0.9); padding: 16px 20px; border-radius: 10px; display: inline-block; text-align: left; max-width: 650px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05);">
                <ul style="margin: 0; padding-left: 18px; line-height: 1.5; color: #334155;">
                    <li style="margin-bottom: 6px;">üîÑ <strong style="color: #0f172a;">Full-Cycle R&D:</strong>
                        Comprehensive support from feasibility studies and prototyping to mass production scaling.</li>
                    <li style="margin-bottom: 6px;">üìê <strong style="color: #0f172a;">Circuit Design &
                            Simulation:</strong> Reliable schematic capture tailored to cost and performance
                        requirements.</li>
                    <li style="margin-bottom: 6px;">üü© <strong style="color: #0f172a;">Advanced PCB Layout:</strong>
                        High-density interconnect (HDI) and multi-layer designs optimized for Signal Integrity and
                        EMC/EMI compliance.</li>
                    <li style="margin-bottom: 6px;">üìã <strong style="color: #0f172a;">Design for Manufacturing
                            (DFM):</strong> Production-ready documentation, including Gerber files, pick-and-place data,
                        and cost-optimized BOMs.</li>
                    <li style="margin-bottom: 6px;">üíª <strong style="color: #0f172a;">Embedded Firmware
                            Development:</strong> Efficient C/C++ firmware for STM32, ESP32, and other architectures
                        (Bare-metal & RTOS).</li>
                    <li>üîß <strong style="color: #0f172a;">Mechanical Engineering (SolidWorks):</strong> 3D CAD
                        modeling, thermal management, and custom enclosure design for seamless ECAD/MCAD integration.
                    </li>
                </ul>
            </div>

            <p style="margin: 20px 0 0 0; font-size: 16px; font-weight: 600;">
                üìß <a href="mailto:serbinovoleg@gmail.com"
                    style="color: #0284c7; text-decoration: none; padding-bottom: 2px; border-bottom: 1px dotted rgba(2,132,199,0.5); transition: all 0.2s;">serbinovoleg@gmail.com</a>
            </p>
            <p style="margin: 12px 0 0 0; font-size: 15px;">
                üåê <a href="https://serbinov.github.io/" target="_blank" rel="noopener"
                    style="color: #0369a1; text-decoration: none; font-weight: 600; padding: 6px 16px; background: rgba(255,255,255,0.8); border: 1px solid #bae6fd; border-radius: 20px; margin-right: 8px; transition: all 0.2s; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">Website</a>
                <a href="https://github.com/serbinov" target="_blank" rel="noopener"
                    style="color: #0369a1; text-decoration: none; font-weight: 600; padding: 6px 16px; background: rgba(255,255,255,0.8); border: 1px solid #bae6fd; border-radius: 20px; transition: all 0.2s; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">GitHub</a>
            </p>
        </div>

        <!-- Semantic Content for SEO (Hidden) -->
        <footer
            style="display: none; visibility: hidden; position: absolute; left: -9999px; opacity: 0; font-size: 0; height: 0; width: 0; overflow: hidden; margin-top: 40px; padding: 20px; border-top: 1px solid #e0e0e0; color: #666; line-height: 1.6;">
            <section>
                <h3 style="font-size: 14px; margin-bottom: 10px; color: #2c3e50;">About This Calculator</h3>
                <p>This <strong>DC/DC feedback resistor calculator</strong> is a professional engineering tool designed
                    for <em>power supply designers</em> and <em>electronics engineers</em>. It helps calculate optimal
                    <strong>R1 and R2 resistor values</strong> for <strong>voltage divider feedback networks</strong> in
                    various <strong>switching regulator topologies</strong> including <strong>buck converters</strong>,
                    <strong>boost converters</strong>, <strong>buck-boost converters</strong>, and other <strong>DC/DC
                        switching power supplies</strong>.
                </p>

                <h4 style="font-size: 13px; margin: 15px 0 8px 0; color: #34495e;">Supported Converter Types</h4>
                <p>The calculator supports feedback design for <strong>step-down regulators (buck)</strong>,
                    <strong>step-up regulators (boost)</strong>, <strong>SEPIC converters</strong>, <strong>Cuk
                        converters</strong>, <strong>flyback converters</strong>, <strong>forward converters</strong>,
                    and other <strong>isolated and non-isolated switching topologies</strong>. It's compatible with
                    popular <strong>PWM controller ICs</strong> and <strong>switching regulator modules</strong>.
                </p>

                <h4 style="font-size: 13px; margin: 15px 0 8px 0; color: #34495e;">Standard Resistor Series Support</h4>
                <p>Features automatic selection from <strong>E24 resistor series (5% tolerance)</strong> and <strong>E96
                        resistor series (1% tolerance)</strong> for <strong>precision feedback networks</strong>. The
                    tool calculates <strong>power dissipation</strong>, recommends appropriate <strong>resistor package
                        sizes</strong>, and provides <strong>SMD and through-hole component recommendations</strong>.
                </p>

                <h4 style="font-size: 13px; margin: 15px 0 8px 0; color: #34495e;">Applications</h4>
                <p>Ideal for designing <strong>point-of-load regulators</strong>, <strong>battery chargers</strong>,
                    <strong>LED drivers</strong>, <strong>motor drive power supplies</strong>, <strong>telecom power
                        systems</strong>, <strong>server power modules</strong>, <strong>automotive
                        electronics</strong>, <strong>industrial control systems</strong>, and <strong>portable device
                        power management</strong>.
                </p>
            </section>

            <section style="margin-top: 20px;">
                <h3 style="font-size: 14px; margin-bottom: 10px; color: #2c3e50;">Keywords & Related Terms</h3>
                <p style="font-size: 11px; font-style: italic;">
                    <span>switching mode power supply calculator</span> ‚Ä¢
                    <span>SMPS feedback design</span> ‚Ä¢
                    <span>voltage regulation circuit</span> ‚Ä¢
                    <span>power converter design tool</span> ‚Ä¢
                    <span>electronic circuit calculator</span> ‚Ä¢
                    <span>resistor selection tool</span> ‚Ä¢
                    <span>voltage setting network</span> ‚Ä¢
                    <span>feedback loop design</span> ‚Ä¢
                    <span>power electronics engineering</span> ‚Ä¢
                    <span>circuit design software</span> ‚Ä¢
                    <span>embedded power supply</span> ‚Ä¢
                    <span>switching topology design</span> ‚Ä¢
                    <span>voltage reference circuit</span> ‚Ä¢
                    <span>precision voltage setting</span> ‚Ä¢
                    <span>component selection guide</span>
                </p>
            </section>
        </footer>

        <div class="developer-info">
            <div class="developer-name">Developed by Oleg Serbinov</div>
            <div>
                <span style="font-weight:bold;">v1.0</span> ‚Ä¢ <span>2025-12-30</span>
            </div>
        </div>
    </main>
</body>

</html>